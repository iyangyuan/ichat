(function(e){e.fn.extend({ichat:function(t){var n="<!-- ichat区域 --><div id='ichatBody' class='ichat-body ichat-display' style=''>  <!-- ichat按钮 -->  <div id='ichatButton' class='ichat-button'>    <b id='ichatButtonName'></b>  </div>  <!-- ichat内容 -->  <div id='ichatContent' class='ichat-content'>  </div></div>",r="<div>  <div data-ichat-toggle='@id' class='ichat-title'>@title</div>  <div id='@id' class='ichat-list'>  </div></div>",i={body:{placement:{left:function(){e("#ichatBody").addClass("ichat-pull-left"),e("#ichatButton").addClass("ichat-float-right"),e("#ichatContent").addClass("ichat-float-left")},right:function(){e("#ichatBody").addClass("ichat-pull-right"),e("#ichatButton").addClass("ichat-float-left"),e("#ichatContent").addClass("ichat-float-right")}},color:{black:function(){e("#ichatButton").addClass("ichat-color-black")},blue:function(){e("#ichatButton").addClass("ichat-color-blue")},red:function(){e("#ichatButton").addClass("ichat-color-red")},green:function(){e("#ichatButton").addClass("ichat-color-green")}},trigger:{click:function(){e("#ichatButton").click(function(){e("#ichatContent").toggle("slow")})},hover:function(){var t;e("#ichatBody").hover(function(){t=setTimeout(function(){e("#ichatContent").show("slow")},200)},function(){clearTimeout(t),e("#ichatContent").hide("slow")})}}},items:{qq:function(t){var n="http://wpa.qq.com/msgrd?v=3&uin=@qq&site=qq&menu=yes",r="background-image: url('@url');",i="<ul class='ichat-list-ul'>";for(var s=0;s<t.items.length;s++){var o=t.items[s];o.image?i+="<li><a href='"+n.replace("@qq",o.qq)+"' style=\""+r.replace("@url",o.image)+"\" target='_blank'>"+o.title+"</a></li>":i+="<li><a href='"+n.replace("@qq",o.qq)+"' class='ichat-qq' target='_blank'>"+o.title+"</a></li>"}i+="</ul>",e("#"+t.id).html(i)},tel:function(t){var n="background-image: url('@url');",r="<ul class='ichat-list-ul'>";for(var i=0;i<t.items.length;i++){var s=t.items[i];s.image?r+="<li><a href='javascript:void(0);' title='"+s.title+"' style=\""+n.replace("@url",s.image)+'">'+s.tel+"</a></li>":r+="<li><a href='javascript:void(0);' title='"+s.title+"' class='ichat-tel'>"+s.tel+"</a></li>"}r+="</ul>",e("#"+t.id).html(r)},text:function(t){var n="";for(var r=0;r<t.items.length;r++){var i=t.items[r];i.href?n+="<p><b>"+i.title+"</b><a href='"+i.href+"' target='_blank'>"+i.text+"</a></p>":n+="<p><b>"+i.title+"</b>"+i.text+"</p>"}e("#"+t.id).html(n)},trigger:{click:function(t){e("div[data-ichat-toggle='"+t+"']").addClass("ichat-cursor"),e("div[data-ichat-toggle='"+t+"']").click(function(){e("#"+t).slideToggle("slow")})},hover:function(t){var n;e("div[data-ichat-toggle='"+t+"']").addClass("ichat-cursor"),e("div[data-ichat-toggle='"+t+"']").parent().hover(function(){n=setTimeout(function(){e("#"+t).show("slow")},200)},function(){clearTimeout(n),e("#"+t).hide("slow")})},none:function(e){}}}};e(this).append(n),e("#ichatBody").attr("style","top:"+t.top+"%;"),e("#ichatButtonName").text(t.title),i.body.placement[t.placement]&&i.body.placement[t.placement](),i.body.color[t.color]&&i.body.color[t.color](),i.body.trigger[t.trigger]&&i.body.trigger[t.trigger]();for(var s=0;s<t.items.length;s++){var o=t.items[s],u="ichatItem"+s,a=r.replace(/@id/g,u);a=a.replace("@title",o.title),e("#ichatContent").append(a),o.open||e("#"+u).addClass("ichat-display"),o.id=u,i.items[o.type]&&i.items[o.type](o),i.items.trigger[o.trigger]&&i.items.trigger[o.trigger](u)}e("#ichatBody").removeClass("ichat-display")}})})(jQuery)